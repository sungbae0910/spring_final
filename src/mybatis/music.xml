<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="music">

	<select id="home" resultType="mybatis.MusicVo">
		select * from sb_music 
		where MUSIC_SERIAL IN (
			select MUSIC_SERIAL from SB_TOP where TOP_SERIAL BETWEEN 1 and 10
		)
	</select>
	
	<select id="movie" parameterType="Integer" resultMap="MusicVo">
		select * from sb_music 
		where music_serial = ${_parameter}
	</select>

	<select id="play" parameterType="Integer" resultMap="MusicVo">
		select A.*, B.album_photo 
		from sb_music A
		join sb_album B
		on a.album_serial = b.album_serial 
		where MUSIC_SERIAL = ${_parameter}
	</select>
	
	<resultMap type="mybatis.MusicVo" id="MusicVo">
		<result property="music_serial" column="music_serial"/>
		<result property="music_name" column="music_name"/>
		<result property="lylics" column="lylics"/>
		<result property="album_serial" column="album_serial"/>
		<result property="genre" column="genre"/>
		<result property="enter" column="enter"/>
		<result property="company" column="company"/>
		<result property="music_photo" column="music_photo"/>
	</resultMap>
	
</mapper>